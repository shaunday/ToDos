<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:DotNetCommon="clr-namespace:ToDos.DotNet.Common;assembly=Todos.DotNet.Common"
    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <ObjectDataProvider x:Key="TaskPriorityValues"
                        MethodName="GetValues"
                        ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="DotNetCommon:GlobalTypes+TaskPriority"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>

    <DataTemplate x:Key="TaskModelEditTemplate">
        <Border Margin="8" Padding="12" CornerRadius="8" Background="#EEE">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="Title:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,4"/>
                <TextBox Text="{Binding Title, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="1" Margin="0,4"/>

                <TextBlock Text="Description:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,4"/>
                <TextBox Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Grid.Column="1" Margin="0,4" AcceptsReturn="True" Height="40"/>

                <TextBlock Text="Priority:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,4"/>
                <ComboBox ItemsSource="{Binding Source={StaticResource TaskPriorityValues}}"
                          SelectedItem="{Binding Priority, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                          Grid.Row="2" Grid.Column="1" Margin="0,4"/>

                <TextBlock Text="Due Date:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,4"/>
                <DatePicker SelectedDate="{Binding DueDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Row="3" Grid.Column="1" Margin="0,4"/>

                <TextBlock Text="Tags:" Grid.Row="4" Grid.Column="0" VerticalAlignment="Top" Margin="0,4"/>
                <ItemsControl ItemsSource="{Binding Tags}" Grid.Row="4" Grid.Column="1" Margin="0,4">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="2" Padding="4" Background="#EEE" CornerRadius="4">
                                <TextBlock Text="{Binding Name}"/>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <CheckBox Content="Completed" IsChecked="{Binding IsCompleted, Mode=TwoWay}" Grid.Row="5" Grid.Column="1" Margin="0,4"/>
                <StackPanel Grid.Row="6" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
                    <Button Content="Apply" Command="{Binding ApplyCommand}" Margin="0,0,8,0"/>
                    <Button Content="Delete" Command="{Binding DeleteCommand}"/>
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>
</ResourceDictionary> 